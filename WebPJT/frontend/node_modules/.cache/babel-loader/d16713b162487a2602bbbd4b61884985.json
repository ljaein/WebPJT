{"remainingRequest":"C:\\leejaein\\project-sub1\\s03p11b223\\WebPJT\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\leejaein\\project-sub1\\s03p11b223\\WebPJT\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\leejaein\\project-sub1\\s03p11b223\\WebPJT\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\leejaein\\project-sub1\\s03p11b223\\WebPJT\\frontend\\src\\components\\modal\\LoginModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\leejaein\\project-sub1\\s03p11b223\\WebPJT\\frontend\\src\\components\\modal\\LoginModal.vue","mtime":1595306904891},{"path":"C:\\leejaein\\project-sub1\\s03p11b223\\WebPJT\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\leejaein\\project-sub1\\s03p11b223\\WebPJT\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\leejaein\\project-sub1\\s03p11b223\\WebPJT\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\leejaein\\project-sub1\\s03p11b223\\WebPJT\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICIuLi8uLi9hc3NldHMvY3NzL3Bvc3Quc2NzcyI7CmltcG9ydCAiLi4vLi4vYXNzZXRzL2Nzcy91c2VyLnNjc3MiOwppbXBvcnQgUFYgZnJvbSAicGFzc3dvcmQtdmFsaWRhdG9yIjsKaW1wb3J0ICogYXMgRW1haWxWYWxpZGF0b3IgZnJvbSAiZW1haWwtdmFsaWRhdG9yIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKdmFyIGJhc2VVUkwgPSAiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FjY291bnQiOwp2YXIgc3RvcmFnZSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQb3N0IiwKICBjb21wb25lbnRzOiB7fSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5wYXNzd29yZFNjaGVtYS5pcygpLm1pbig4KS5pcygpLm1heCgxMDApLmhhcygpLmRpZ2l0cygpLmhhcygpLmxldHRlcnMoKTsKICB9LAogIHdhdGNoOiB7CiAgICBwYXNzd29yZDogZnVuY3Rpb24gcGFzc3dvcmQodikgewogICAgICB0aGlzLmNoZWNrRm9ybSgpOwogICAgfSwKICAgIGVtYWlsOiBmdW5jdGlvbiBlbWFpbCh2KSB7CiAgICAgIHRoaXMuY2hlY2tGb3JtKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGVja0Zvcm06IGZ1bmN0aW9uIGNoZWNrRm9ybSgpIHsKICAgICAgaWYgKHRoaXMuZW1haWwubGVuZ3RoID4gMCAmJiAhRW1haWxWYWxpZGF0b3IudmFsaWRhdGUodGhpcy5lbWFpbCkpIHRoaXMuZXJyb3IuZW1haWwgPSAi7J2066mU7J28IO2YleyLneydtCDslYTri5nri4jri6QuIjtlbHNlIHRoaXMuZXJyb3IuZW1haWwgPSBmYWxzZTsKICAgICAgaWYgKHRoaXMucGFzc3dvcmQubGVuZ3RoID4gMCAmJiAhdGhpcy5wYXNzd29yZFNjaGVtYS52YWxpZGF0ZSh0aGlzLnBhc3N3b3JkKSkgdGhpcy5lcnJvci5wYXNzd29yZCA9ICLsmIHrrLgs7Iir7J6QIO2PrO2VqCA4IOyekOumrOydtOyDgeydtOyWtOyVvCDtlanri4jri6QuIjtlbHNlIHRoaXMuZXJyb3IucGFzc3dvcmQgPSBmYWxzZTsKICAgIH0sCiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBheGlvcy5nZXQoIiIuY29uY2F0KGJhc2VVUkwsICIvbG9naW4vIikuY29uY2F0KHRoaXMuZW1haWwsICIvIikuY29uY2F0KHRoaXMucGFzc3dvcmQpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKCiAgICAgICAgX3RoaXMuJHJvdXRlci5nbygpOyAvLyBhbGVydCh0aGlzLiRzZXNzaW9uLmdldCgibG9naW5fdXNlciIpKTsKICAgICAgICAvLyBheGlvcy5nZXQoYCR7YmFzZVVSTH0vZ2V0dXNlcmluZm9gKQogICAgICAgIC8vIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAvLyAgICAgYWxlcnQocmVzcG9uc2UpOwogICAgICAgIC8vIH0pCiAgICAgICAgLy8gICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkgewogICAgICAgIC8vICAgICB2YXIgand0ID0gcmVxdWlyZSgianNvbndlYnRva2VuIik7CiAgICAgICAgLy8gICAgIHZhciB0b2tlbiA9IGp3dC5zaWduKHsgc3ViOiB0aGlzLmVtYWlsIH0sIHRoaXMucGFzc3dvcmQpOwogICAgICAgIC8vICAgICB0aGlzLiRjb29raWVzLnNldCgiQXV0aC1Ub2tlbiIsIHRva2VuKTsKICAgICAgICAvLyAgICAgdGhpcy4kY29va2llcy5zZXQoIlVzZXIiLCByZXNwb25zZS5kYXRhKTsKICAgICAgICAvLyAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgLy8gICAgIHRoaXMubmFtZSA9IHJlc3BvbnNlLmRhdGEubmFtZTsKICAgICAgICAvLyAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgICAgICAvLyAgICAgdGhpcy4kcm91dGVyLmdvKCk7CiAgICAgICAgLy8gICB9CgogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyLnJlc3BvbnNlKTsKICAgICAgICBhbGVydCgi7JWE7J2065SUIOuwjyDruYTrsIDrsojtmLjrpbwg7ZmV7J247ZW07KO87IS47JqULiIpOwogICAgICAgIF90aGlzLmVtYWlsID0gIiI7CiAgICAgICAgX3RoaXMucGFzc3dvcmQgPSAiIjsKICAgICAgfSk7CiAgICB9LAogICAgam9pbjogZnVuY3Rpb24gam9pbigpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi91c2VyL2pvaW4vIik7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1haWw6ICIiLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIHBhc3N3b3JkU2NoZW1hOiBuZXcgUFYoKSwKICAgICAgZXJyb3I6IHsKICAgICAgICBlbWFpbDogZmFsc2UsCiAgICAgICAgcGFzc3dvcmQ6IGZhbHNlCiAgICAgIH0sCiAgICAgIHBhc3N3b3JkVHlwZTogInBhc3N3b3JkIgogICAgfTsKICB9Cn07"},{"version":3,"sources":["LoginModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA,OAAA,4BAAA;AACA,OAAA,4BAAA;AACA,OAAA,EAAA,MAAA,oBAAA;AACA,OAAA,KAAA,cAAA,MAAA,iBAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,IAAA,OAAA,GAAA,+BAAA;AACA,IAAA,OAAA,GAAA,MAAA,CAAA,cAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAGA,EAAA,OAHA,qBAGA;AACA,SAAA,cAAA,CACA,EADA,GAEA,GAFA,CAEA,CAFA,EAGA,EAHA,GAIA,GAJA,CAIA,GAJA,EAKA,GALA,GAMA,MANA,GAOA,GAPA,GAQA,OARA;AASA,GAbA;AAcA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA,kBAAA,CAAA,EAAA;AACA,WAAA,SAAA;AACA,KAHA;AAIA,IAAA,KAAA,EAAA,eAAA,CAAA,EAAA;AACA,WAAA,SAAA;AACA;AANA,GAdA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA,UAAA,KAAA,KAAA,CAAA,MAAA,GAAA,CAAA,IAAA,CAAA,cAAA,CAAA,QAAA,CAAA,KAAA,KAAA,CAAA,EACA,KAAA,KAAA,CAAA,KAAA,GAAA,eAAA,CADA,KAEA,KAAA,KAAA,CAAA,KAAA,GAAA,KAAA;AAEA,UACA,KAAA,QAAA,CAAA,MAAA,GAAA,CAAA,IACA,CAAA,KAAA,cAAA,CAAA,QAAA,CAAA,KAAA,QAAA,CAFA,EAIA,KAAA,KAAA,CAAA,QAAA,GAAA,yBAAA,CAJA,KAKA,KAAA,KAAA,CAAA,QAAA,GAAA,KAAA;AACA,KAZA;AAaA,IAAA,KAbA,mBAaA;AAAA;;AACA,MAAA,KAAA,CACA,GADA,WACA,OADA,oBACA,KAAA,KADA,cACA,KAAA,QADA,GAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,IAAA;;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,EAAA,GAHA,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OArBA,EAsBA,KAtBA,CAsBA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,QAAA;AACA,QAAA,KAAA,CAAA,qBAAA,CAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,EAAA;AACA,OA3BA;AA4BA,KA1CA;AA2CA,IAAA,IAAA,EAAA,gBAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,aAAA;AACA;AA7CA,GAvBA;AAsEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,cAAA,EAAA,IAAA,EAAA,EAHA;AAIA,MAAA,KAAA,EAAA;AACA,QAAA,KAAA,EAAA,KADA;AAEA,QAAA,QAAA,EAAA;AAFA,OAJA;AAQA,MAAA,YAAA,EAAA;AARA,KAAA;AAUA;AAjFA,CAAA","sourcesContent":["<template>\r\n  <!-- Modal -->\r\n  <div\r\n    class=\"modal fade\"\r\n    id=\"LoginModal\"\r\n    tabindex=\"-1\"\r\n    role=\"dialog\"\r\n    aria-labelledby=\"exampleModalLabel\"\r\n    aria-hidden=\"true\"\r\n  >\r\n    <div class=\"modal-dialog\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">로그인</h5>\r\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"user\" id=\"login\">\r\n            <div class=\"wrapC table\">\r\n              <!-- <div class=\"middle\"> -->\r\n              <h1>SS_log</h1>\r\n              <div class=\"input-wrap\">\r\n                <input\r\n                  v-model=\"email\"\r\n                  v-bind:class=\"{error : error.email, complete:!error.email&&email.length!==0}\"\r\n                  id=\"email\"\r\n                  placeholder=\"이메일을 입력해주세요\"\r\n                  type=\"text\"\r\n                />\r\n                <div class=\"error-text\" v-if=\"error.email\">{{error.email}}</div>\r\n              </div>\r\n              <div class=\"input-wrap\">\r\n                <input\r\n                  v-model=\"password\"\r\n                  v-bind:class=\"{error : error.password, complete:!error.password&&password.length!==0}\"\r\n                  :type=\"passwordType\"\r\n                  id=\"password\"\r\n                  placeholder=\"영문, 숫자 혼용 8자 이상\"\r\n                />\r\n                <span :class=\"{active : passwordType==='text'}\">\r\n                  <i class=\"fas fa-eye\"></i>\r\n                </span>\r\n                <div class=\"error-text\" v-if=\"error.password\">{{error.password}}</div>\r\n              </div>\r\n              <button class=\"btn btn--back btn--login\" @click=\"login\" data-dismiss=\"modal\">로그인</button>\r\n              <div class=\"add-option\">\r\n                <div class=\"wrap\">\r\n                  <p>아직 회원이 아니신가요?</p>\r\n                  <button type=\"button\" class=\"btn--text\" @click=\"join\" data-dismiss=\"modal\">회원가입</button>\r\n                  <!-- <router-link v-bind:to=\"{name:constants.URL_TYPE.USER.JOIN}\" class=\"btn--text\">회원가입</router-link> -->\r\n                </div>\r\n              </div>\r\n              <!-- </div> -->\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"login-btn\" data-dismiss=\"modal\">Close</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport \"../../assets/css/post.scss\";\r\nimport \"../../assets/css/user.scss\";\r\nimport PV from \"password-validator\";\r\nimport * as EmailValidator from \"email-validator\";\r\nimport axios from \"axios\";\r\n\r\nconst baseURL = \"http://localhost:8080/account\";\r\nconst storage = window.sessionStorage;\r\n\r\nexport default {\r\n  name: \"Post\",\r\n  components: {},\r\n  created() {\r\n    this.passwordSchema\r\n      .is()\r\n      .min(8)\r\n      .is()\r\n      .max(100)\r\n      .has()\r\n      .digits()\r\n      .has()\r\n      .letters();\r\n  },\r\n  watch: {\r\n    password: function(v) {\r\n      this.checkForm();\r\n    },\r\n    email: function(v) {\r\n      this.checkForm();\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    checkForm() {\r\n      if (this.email.length > 0 && !EmailValidator.validate(this.email))\r\n        this.error.email = \"이메일 형식이 아닙니다.\";\r\n      else this.error.email = false;\r\n\r\n      if (\r\n        this.password.length > 0 &&\r\n        !this.passwordSchema.validate(this.password)\r\n      )\r\n        this.error.password = \"영문,숫자 포함 8 자리이상이어야 합니다.\";\r\n      else this.error.password = false;\r\n    },\r\n    login() {\r\n      axios\r\n        .get(`${baseURL}/login/${this.email}/${this.password}`)\r\n        .then(response => {\r\n          console.log(response.data);\r\n          this.$router.push(\"/\");\r\n          this.$router.go();\r\n          // alert(this.$session.get(\"login_user\"));\r\n          // axios.get(`${baseURL}/getuserinfo`)\r\n          // .then(response => {\r\n          //     alert(response);\r\n          // })\r\n          //   if (response.status == 200) {\r\n          //     var jwt = require(\"jsonwebtoken\");\r\n          //     var token = jwt.sign({ sub: this.email }, this.password);\r\n          //     this.$cookies.set(\"Auth-Token\", token);\r\n          //     this.$cookies.set(\"User\", response.data);\r\n          //     console.log(response.data);\r\n          //     this.name = response.data.name;\r\n          //     this.$router.push(\"/\");\r\n          //     this.$router.go();\r\n          //   }\r\n        })\r\n        .catch(err => {\r\n          console.log(err.response);\r\n          alert(\"아이디 및 비밀번호를 확인해주세요.\");\r\n          this.email = \"\";\r\n          this.password = \"\";\r\n        });\r\n    },\r\n    join: function() {\r\n      this.$router.push(\"/user/join/\");\r\n    }\r\n  },\r\n  data: () => {\r\n    return {\r\n      email: \"\",\r\n      password: \"\",\r\n      passwordSchema: new PV(),\r\n      error: {\r\n        email: false,\r\n        password: false\r\n      },\r\n      passwordType: \"password\"\r\n    };\r\n  }\r\n};\r\n</script>\r\n"],"sourceRoot":"src/components/modal"}]}